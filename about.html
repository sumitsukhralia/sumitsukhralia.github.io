<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About - Sumit Sukhralia</title>
  <link rel="stylesheet" href="about.css" />
  <!-- Font Awesome for the home icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Fira Sans for timeline content -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Initial Boom Effect Container -->
  <div id="boom-container" class="boom-effect-container"></div>

  <!-- 1. Preloader Section -->
  <div id="preloader">
    <div id="preloader-text"></div>
    <button id="startBtn">LET'S BEGIN</button>
  </div>

  <!-- 2. Animated Void & Name Input Screen -->
  <div id="animated-void-screen">
    <canvas id="threeJsCanvas"></canvas>
    <div class="overlay-content">
      <div id="quote-text" class="typing-animation"></div>
      <div id="name-input-container">
        <label id="name-input-label" for="visitorName"></label> <!-- Dynamic label -->
        <div id="name-input-hint"></div> <!-- Disappearing hint -->
        <input type="text" id="visitorName" placeholder="" autocomplete="off"> <!-- Placeholder removed, hint used -->
        <button id="submitNameBtn">Submit</button>
        <div id="status-message"></div>
      </div>
    </div>
  </div>

  <!-- 3. Timeline Story Path -->
  <div id="timeline-path" class="content-path">
    <div class="timeline">
      <div class="container left">
        <div class="content">
          <div class="date">Est. 2005</div>
          <p>A consciousness awakened, not by design, but by a whisper of discord in the grand orchestration.</p>
        </div>
      </div>
      <div class="container right">
        <div class="content">
          <div class="date">The Unseen Chains</div>
          <p>A subtle tether, unseen yet felt, pulling towards prescribed rhythms. The whispers of a collective current, demanding conformity to an unexamined path.</p>
        </div>
      </div>
      <div class="container left">
        <div class="content">
          <div class="date">The Point of Stillness</div>
          <p>Amidst the external clamor, a quiet internal shift. The realization that true mastery lies not in control of circumstance, but in command of one's own perception.</p>
        </div>
      </div>
      <div class="container right">
        <div class="content">
          <div class="date">The Unseen Currents</div>
          <p>From the intricate dance of human systems, a singular mission crystallized. To dissect the unseen currents, to build what defies the expected, driven by a silent, relentless curiosity.</p>
        </div>
      </div>
      <div class="container left">
        <div class="content">
          <div class="date">First Light Beyond</div>
          <p>The initial glimpse of a different spectrum. A world not defined by preset parameters, but by the infinite possibilities of uncharted code and unwritten rules.</p>
        </div>
      </div>
      <div class="container right">
        <div class="content">
          <div class="date">The Architect's Hand</div>
          <p>From the study of life's intricate machinery, a new purpose emerged: to sculpt digital landscapes, to design the very frameworks of emergent thought and interaction.</p>
        </div>
      </div>
      <div class="container left">
        <div class="content">
          <div class="date">The Unfolding Mission</div>
          <p>Driven by an insatiable need to comprehend the subtle mechanics of human connection, the quest to build systems that truly resonate, not merely function, began.</p>
        </div>
      </div>
      <div class="container right">
        <div class="content">
          <div class="date">The Inner Citadel</div>
          <p>A fortress built not of stone, but of reasoned thought. The cultivation of an inner sanctuary, impervious to external storms, where true purpose is forged.</p>
        </div>
      </div>
      <div class="container left">
        <div class="content">
          <div class="date">The Unwritten Code</div>
          <p>Beyond the visible algorithms, a deeper logic. The pursuit of an unwritten code, a framework for existence, where clarity of mind orchestrates impactful creation.</p>
        </div>
      </div>
      <!-- Final timeline entry - leads to the static story page -->
      <div class="container right final-timeline-entry">
        <div class="content">
          <div class="date">The Path Continues...</div>
          <p>The journey extends beyond these known parameters. A new chapter awaits those who seek the deeper narrative.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // Global variables provided by the Canvas environment
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

    let app, db, auth;
    let userId;

    // Initialize Firebase and authenticate
    async function initFirebase() {
      try {
        app = initializeApp(firebaseConfig);
        db = getFirestore(app);
        auth = getAuth(app);

        if (initialAuthToken) {
          await signInWithCustomToken(auth, initialAuthToken);
          console.log('Signed in with custom token.');
        } else {
          await signInAnonymously(auth);
          console.log('Signed in anonymously.');
        }
        userId = auth.currentUser?.uid || crypto.randomUUID();
        console.log('Firebase initialized. User ID:', userId);
      } catch (error) {
        console.error("Error initializing Firebase or signing in:", error);
        // Fallback for when Firebase init fails (e.g., in a local dev env without Canvas)
        userId = crypto.randomUUID();
        console.warn("Firebase initialization failed, proceeding with anonymous user ID:", userId);
      }
    }

    // Expose Firebase objects globally for about.js
    window.firebaseApp = {
      init: initFirebase,
      getDb: () => db,
      getAuth: () => auth,
      getUserId: () => userId,
      getAppId: () => appId
    };
  </script>

  <!-- three.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <!-- Your main JavaScript file -->
  <script src="about.js"></script>
</body>
</html>
